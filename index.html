<!DOCTYPE html>
<html lang="th-TH">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Auto Suggest Ahead WTF!!!</title>

    <input type="text" id="autocomplete">
</head>
<body>

<script>
const citiesEndpoint = "https://gist.githubusercontent.com/koramit/594b1b217cf6b5d1bf084fa27de09b8d/raw/5f73f96dbad9aac88951c1e1a2c6804df3487a9b/thai-subDistricts.json";
const cities = [];
fetch(citiesEndpoint)
    .then(blob => blob.json())
    .then(data => cities.push(...data));

    function searchCities(event)
    {
        let search = event.target.value;

        let suggestion = cities.filter((city) => {
            return (city.district.indexOf(search) !== -1 ||
                    city.amphoe.indexOf(search) !== -1 ||
                    city.province.indexOf(search) !== -1
                    )
        })
        console.log(suggestion)
    }
    let input = document.getElementById("autocomplete");
    input.addEventListener("input", searchCities)
</script>
</body>
</html>
